<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Telemachy</title><style>*{box-sizing:border-box}.cxs-display-table{display:table}.cxs-2947628758 pre .hljs-number{color:#e08}.cxs-3954183383{font-size:24px}.cxs-2947628758 a:hover{text-decoration:underline}.cxs-4066908388{clear:both}.cxs-799160745{font-size:48px}.cxs-1246195080{margin-left:-8px;margin-right:-8px}.cxs-2947628758{}.cxs-2947628758 h1{font-weight:600;line-height:1.25;font-size:48px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h2{font-weight:600;line-height:1.25;font-size:24px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h3{font-weight:600;line-height:1.25;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h4{font-weight:600;line-height:1.25;font-size:16px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h5{font-weight:600;line-height:1.25;font-size:14px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 h6{font-weight:600;line-height:1.25;font-size:12px;margin-top:32px;margin-bottom:8px}.cxs-2947628758 p{overflow-x:auto;margin-top:0px;margin-bottom:16px}.cxs-2947628758 code{font-family:Menlo, monospace;font-size:14px;padding:4px;background-color:#eee;border-radius:2px}.cxs-2947628758 pre{font-family:Menlo, monospace;font-size:14px;overflow-x:auto;padding:16px;margin-top:8px;margin-bottom:32px;background-color:#eee;border-radius:2px}.cxs-2947628758 pre .hljs-keyword{color:#08e}.cxs-2947628758 pre .hljs-built_in{color:#059}.cxs-2947628758 pre .hljs-type{color:#059}.cxs-2947628758 pre .hljs-literal{color:#08e}.cxs-2947628758 a{color:#08e;text-decoration: none}.cxs-2947628758 pre .hljs-regexp{color:#08e}.cxs-2947628758 pre .hljs-string{color:#059}.cxs-2947628758 pre .hljs-subst{color:#059}.cxs-2947628758 pre .hljs-symbol{color:#08e}.cxs-2947628758 pre .hljs-class{color:#08e}.cxs-2947628758 pre .hljs-function{color:#e08}.cxs-2947628758 pre .hljs-title{color:#08e}.cxs-2947628758 pre .hljs-params{color:#059}.cxs-2947628758 pre .hljs-comment{color:#059}.cxs-2947628758 pre .hljs-doctag{color:#059}.cxs-2947628758 pre .hljs-meta{color:#059}.cxs-2947628758 pre .hljs-meta-keyword{color:#08e}.cxs-2947628758 pre .hljs-meta-string{color:#08e}.cxs-2947628758 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom-style:solid;border-bottom-width:1px;border-bottom:2px solid #ddd}.cxs-2947628758 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-2947628758 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-2947628758 td{vertical-align:top;line-height:inherit}.cxs-2947628758 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-2947628758 ul{padding-left:32px;margin-top:0px;margin-bottom:16px}@media screen and (min-width: 52em) { .cxs-799160745{font-size:72px} }@media screen and (min-width: 52em) { .cxs-3954183383{} }</style></head><body style="margin:0;"><div class="Xv" style="font-family:-apple-system, BlinkMacSystemFont, sans-serif;font-weight:400;line-height:1.5;color:#111;background-color:#fff;"><nav style="display:flex;align-items:center;padding-top:8px;padding-bottom:8px;padding-left:16px;padding-right:16px;background-color:#fff;"><a href="https://github.com/code-orange/telemachy" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://npmjs.com/package/telemachy" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">npm</a></nav><header class="BannerHeader" style="display:flex;align-items:center;justify-content:center;text-align:left;min-height:100vh;color:white;background-color:#111;background-image:url(undefined);background-size:cover;background-position:center;"><div style="box-sizing:border-box;width:100%;max-width:1024px;margin-left:auto;margin-right:auto;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;"><h1 class="cxs-799160745" style="box-sizing:border-box;font-weight:600;line-height:1.25;margin:0;">telemachy</h1><h2 class="cxs-3954183383" style="box-sizing:border-box;font-weight:600;line-height:1.25;margin:0;">Easy guided tours for Angular apps</h2><p class="Text" style="box-sizing:border-box;font-size:20px;margin:0;">v2.0.4</p><div class="cxs-1246195080" style="box-sizing:border-box;padding-top:16px;padding-bottom:16px;"><iframe src="https://platform.twitter.com/widgets/tweet_button.html?text=telemachy%3A%20Easy%20guided%20tours%20for%20Angular%20apps&amp;url=&amp;via=&amp;hashtags=&amp;size=" height="20" allowtransparency="true" frameborder="0" scrolling="no" style="box-sizing:border-box;width:61px;overflow:hidden;margin:8px;"></iframe><iframe src="https://ghbtns.com/github-btn.html?type=star&amp;count=true&amp;user=code-orange&amp;repo=telemachy&amp;size=" height="20" frameborder="0" scrolling="no" style="box-sizing:border-box;width:100px;overflow:hidden;margin:8px;"></iframe><div class="cxs-4066908388 cxs-display-table"></div></div></div></header><div class="cxs-2947628758" style="box-sizing:border-box;max-width:1024px;margin-left:auto;margin-right:auto;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;"><article style="box-sizing:border-box;"><div><h1>Telemachy <a href="https://www.npmjs.com/package/telemachy"><img src="https://img.shields.io/npm/v/telemachy.svg?style=flat-square" /></a> <a href="https://npmjs.org/package/telemachy"><img src="http://img.shields.io/npm/dt/telemachy.svg?style=flat-square" /></a> <a href="https://www.npmjs.com/package/telemachy"><img src="https://img.shields.io/npm/l/telemachy.svg?style=flat-square" /></a></h1>

<p><img src="demo.gif" /></p>
<h2>Table of contents</h2>
<ul>
<li><a href="#getting-started">Getting started</a><ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#persistency">Persistency</a></li>
<li><a href="#restarting-a-tour">Restarting a tour</a></li>
<li><a href="#api">API</a></li>
</ul>
</li>
<li><a href="#telemachyservice">TelemachyService</a></li>
<li><a href="#tourpersistency">TourPersistency</a></li>
<li><a href="#youtubetourstep">YoutubeTourStep</a></li>
<li><a href="#htmltourstep">HTMLTourStep</a></li>
<li><a href="#elementtourstep">ElementTourStep</a></li>
</ul>
</li>
</ul>
<h2>Getting started</h2>
<h3>Installation</h3>
<pre>yarn add telemachy
<span class="hljs-comment"># or</span>
npm install --save telemachy</pre><p>Import <code>TelemachyModule</code> in your root module (make sure the <code>RouterModule</code> is loaded, Telemachy uses it to automatically start the tour for any compontent that a user navigates to):</p>
<pre><span class="hljs-keyword">import</span> { NgModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { BrowserModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;
<span class="hljs-keyword">import</span> { RouterModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;

<span class="hljs-keyword">import</span> { TelemachyModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'telemachy'</span>;

<span class="hljs-keyword">import</span> { AppComponent } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.component'</span>;

<span class="hljs-meta">@NgModule</span>({
    imports: [BrowserModule, RouterModule.forRoot([]), TelemachyModule],
    declarations: [AppComponent],
    bootstrap: [AppComponent]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> AppModule {}</pre><p>Finally, add the <code>&lt;telemachy-tour&gt;</code> component to your root app component (or one that is always loaded when you want to display a tour):</p>
<pre><span class="hljs-keyword">import</span> { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;

<span class="hljs-meta">@Component</span>({
    selector: <span class="hljs-string">'app-root'</span>,
    template: <span class="hljs-string">`&lt;telemachy-tour&gt;&lt;/telemachy-tour&gt;&lt;router-outlet&gt;&lt;/router-outlet&gt;`</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> RootComponent {}</pre><h3>Usage</h3>
<p>In its easiest form, you can use Telemachy just by implementing the <code>HasGuidedTour</code> interface:</p>
<pre><span class="hljs-meta">@Component</span>({
    selector: <span class="hljs-string">'app-complex-component'</span>,
    templateUrl: <span class="hljs-string">'./complex-component.component.html'</span>
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> ComplexComponent <span class="hljs-keyword">implements</span> HasGuidedTour {
    tourAutoStart() {<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;}
    getTour():TourStep[] {
        <span class="hljs-keyword">return</span> [
            <span class="hljs-keyword">new</span> YoutubeTourStep(<span class="hljs-string">'l9xU1WpdmVY'</span>),
            <span class="hljs-keyword">new</span> ElementTourStep(<span class="hljs-string">'#complex-thing'</span>, <span class="hljs-string">'Here, I will explain this.'</span>),
            <span class="hljs-keyword">new</span> ElementTourStep(<span class="hljs-string">'#second-complex-thing'</span>, <span class="hljs-string">'Then, I will explain this.'</span>),
            <span class="hljs-keyword">new</span> HTMLTourStep(<span class="hljs-string">`Finally, we are &lt;em&gt;done&lt;/em&gt;!`</span>)
        ];
    }
}</pre><p>By implementing the optional <code>tourAutoStart()</code> method (and having it return <code>true</code>), Telemachy will automatically start this component's tour whenever it becomes active through the angular router.
You can also explicitly say it should be started by calling <code>TelemachyService.startTour(this)</code>.
In both cases, Telemachy will only show the tour if the persistency layer says the user should see it.</p>
<h4>Persistency</h4>
<p>By default, Telemachy will always show a user the tour on each visit.
If you want to save if a user has already seen a tour, you should provide an alternate implementation for the <code>TourPersistency</code> service.</p>
<p>Telemachy comes with an alternate implementation that uses localstorage to save this state.
This implementation depends on <a href="https://github.com/phenomnomnominal/angular-2-local-storage">phenomnomnominal/angular-2-local-storage</a>.
You can use this as follows:</p>
<pre><span class="hljs-keyword">import</span> { LocalStorageModule, LocalStorageService } <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-2-local-storage'</span>;
<span class="hljs-keyword">import</span> { TelemachyModule, TourPersistency, LocalstorageTourPersistencyFactory } <span class="hljs-keyword">from</span> <span class="hljs-string">'telemachy'</span>;

<span class="hljs-meta">@NgModule</span>({
    imports: [BrowserModule, LocalStorageModule.withConfig(), TelemachyModule],
    declarations: [AppComponent],
    bootstrap: [AppComponent],
    providers: [
        {provide: TourPersistency, useFactory: LocalstorageTourPersistencyFactory, deps: [LocalStorageService]}
    ]
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> AppModule {}</pre><p>We recommend you replace the <code>TourPersistency</code> service with an implementation that saves the user's state in a remote system, for instance through a REST API.</p>
<h4>Restarting a tour</h4>
<p>You can restart the tour for a currently visible component by calling <code>TelemachyService.restartTour()</code>.
To check if there is a currently visible component that has a tour, use <code>TelemachyService.canRestart()</code>.</p>
<h2>API</h2>
<h3>TelemachyService</h3>
<pre><span class="hljs-keyword">class</span> TelemachyService {
    <span class="hljs-comment">/**
     * Attempt to start the tour for a component
     * @param component
     */</span>
    startTour(component: HasGuidedTour): <span class="hljs-built_in">void</span>;
    <span class="hljs-comment">/**
     * Indicates if there is a tour that could be restarted
     *
     * @returns {boolean}
     */</span>
    canRestart(): <span class="hljs-built_in">boolean</span>;
    <span class="hljs-comment">/**
     * Restarts the tour for a component (no guarantee which) that is visible right now
     */</span>
    restartTour(): <span class="hljs-built_in">void</span>;

    <span class="hljs-comment">/**
    * Adds an event listener that is called at either the start or end of the tour.
    * Types are 'start' or 'end'
    * listener can't be an anonymous function else it is not possible to remove the callback.
    * 
    * @param type string
    * @param listener function
    */</span>
    addEventListener(<span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span>, listener:<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;

    <span class="hljs-comment">/**
    * Removes an event listener.
    * Types are 'start' or 'end'
    * listener should be the same function as the one that was added.
    * 
    * @param type string
    * @param listener function
    */</span>
    removeEventListener(<span class="hljs-keyword">type</span>: <span class="hljs-built_in">string</span>, listener:<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;

    canGoBack(): <span class="hljs-built_in">boolean</span>;
    canFinish(): <span class="hljs-built_in">boolean</span>;
    finish(): <span class="hljs-built_in">void</span>;
    skip(): <span class="hljs-built_in">void</span>;
    next(): <span class="hljs-built_in">void</span>;
    previous(): <span class="hljs-built_in">void</span>;
    <span class="hljs-keyword">private</span> reset();
    <span class="hljs-keyword">private</span> emit();
    subscribeStep(generatorOrNext?: <span class="hljs-built_in">any</span>, error?: <span class="hljs-built_in">any</span>, complete?: <span class="hljs-built_in">any</span>): Subscription;
    readonly progress: <span class="hljs-built_in">number</span>;
    readonly total: <span class="hljs-built_in">number</span>;
}</pre><h3>TourPersistency</h3>
<pre><span class="hljs-keyword">class</span> TourPersistency {
    <span class="hljs-comment">/**
     * Whether a tour should be started
     *
     * @param componentName Name of the component that the user has arrived at
     * @returns {Observable&lt;boolean&gt;}
     */</span>
    shouldStart(componentName: <span class="hljs-built_in">string</span>): Observable&lt;<span class="hljs-built_in">boolean</span>&gt;;
    <span class="hljs-comment">/**
     * Finish the tour for a component
     * @param componentName
     */</span>
    finish(componentName: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;
    <span class="hljs-comment">/**
     * Skip the tour for a component
     * @param componentName
     */</span>
    skip(componentName: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;
}</pre><h3>YoutubeTourStep</h3>
<pre><span class="hljs-comment">/**
 * Tour step that shows a Youtube video in the middle of the page
 */</span>
<span class="hljs-keyword">class</span> YoutubeTourStep <span class="hljs-keyword">extends</span> TourStep {
    <span class="hljs-comment">/**
     * Video id
     */</span>
    video: <span class="hljs-built_in">string</span>;
    <span class="hljs-keyword">constructor</span>(<span class="hljs-params">video: <span class="hljs-built_in">string</span></span>);
}</pre><h3>HTMLTourStep</h3>
<pre><span class="hljs-comment">/**
 * Tour step that shows some HTML in the middle of the page
 */</span>
<span class="hljs-keyword">class</span> HTMLTourStep <span class="hljs-keyword">extends</span> TourStep {
    <span class="hljs-comment">/**
     * HTML to display in this step
     */</span>
    body: <span class="hljs-built_in">string</span>;
    <span class="hljs-keyword">constructor</span>(<span class="hljs-params">body: <span class="hljs-built_in">string</span></span>);
}</pre><h3>ElementTourStep</h3>
<pre><span class="hljs-comment">/**
 * Tour step that highlights an element on the page with some explanation
 */</span>
<span class="hljs-keyword">class</span> ElementTourStep <span class="hljs-keyword">extends</span> TourStep {
    <span class="hljs-comment">/**
     * Element to highlight
     */</span>
    domElement: Element;
    <span class="hljs-comment">/**
     * HTML to display in this step
     */</span>
    body: <span class="hljs-built_in">string</span>;
    <span class="hljs-keyword">constructor</span>(<span class="hljs-params">selector: <span class="hljs-built_in">string</span>, body: <span class="hljs-built_in">string</span>, <span class="hljs-keyword">async</span>?: <span class="hljs-built_in">boolean</span></span>);
    readonly top: string;
    readonly bottom: string;
    readonly left: string;
    readonly right: string;
    readonly documentHeight: string;
    readonly documentWidth: string;
    readonly toBottom: string;
    readonly toRight: string;
    readonly fromLeft: string;
    readonly fromTop: string;
    readonly height: string;
    readonly width: string;
}</pre><p>If <code>async</code> is <code>true</code>, the <code>ElementTourStep</code> will attempt to find the element on the page after it has been initialized.
If the element isn't available by the time the step should be rendered, the step will be skipped. </p>
<h3>Event Listeners</h3>
<p>It is possible to add event listeners that are fired add the start of the tour 
or at the end of the tour when the finished/skipped button is clicked. 
Possible types: <code>start</code> or <code>end</code></p>
<pre>    <span class="hljs-keyword">let</span> doSomething = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'something'</span>);
    <span class="hljs-keyword">this</span>.TelemachyService.addEventListener(<span class="hljs-string">'start'</span>, doSomething);
    <span class="hljs-keyword">this</span>.TelemachyService.removeEventListener(<span class="hljs-string">'start'</span>, doSomething);</pre></div></article></div><footer><div style="box-sizing:border-box;max-width:1024px;margin-left:auto;margin-right:auto;margin-bottom:32px;padding-top:8px;padding-bottom:8px;padding-left:32px;padding-right:32px;"><div style="margin-left:-16px;margin-right:-16px;"><a href="https://github.com/code-orange/telemachy" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://github.com/code-orange" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">code-orange</a></div><div></div></div></footer></div><div style="font-family:-apple-system, sans-serif;font-size:12px;font-weight:600;text-align:right;padding:24px;color:#333;background-color:#eee;"><a href="http://compositor.io" style="color:inherit;text-decoration:none;">Built with Compositor.io</a></div></body></html>